import"./header-click-color-ea87ad74.js";const s=document.querySelector(".backrop"),B=document.querySelector("#closeBackrop"),L=document.querySelectorAll("#openBackrop"),O=document.querySelector("#product"),k=document.querySelector("#numberProduct"),C=document.querySelector("#priceProduct"),A=document.querySelector("#imgProduct"),F=document.querySelector("#plusProduct"),N=document.querySelector("#minusProduct"),I=e=>{let t=1;const o=e.currentTarget.parentElement.parentElement.firstElementChild.lastElementChild.src,r=e.currentTarget.previousSibling.previousSibling,l=e.currentTarget.parentNode.previousSibling.previousElementSibling.querySelector(".dishes-wrap-title");A.lastElementChild.src=o,O.textContent=l.textContent,k.textContent=1,C.textContent=r.textContent,s.style.display="block",document.body.style.overflow="hidden",setTimeout(function(){s.style.opacity="1"},50);const h=()=>{t<=0&&(t=1),k.textContent=++t,C.textContent="$"+(parseFloat(r.textContent.replace("$",""))*t).toFixed(2)};F.addEventListener("click",h);const f=()=>{--t,t>0&&(k.textContent=t,C.textContent="$"+(parseFloat(r.textContent.replace("$",""))*t).toFixed(2))};N.addEventListener("click",f);const d=()=>{t=1,s.style.opacity="0",setTimeout(function(){s.style.display="none",document.body.style.overflow="auto"},500)};B.addEventListener("click",d),window.onclick=S=>{S.target==s&&d()}};for(const e of L)e.addEventListener("click",I);//!-----------------------Модалка для кошика-----------------------//
const i=document.querySelector(".basket-modal"),$=document.querySelector("#openBasket"),D=document.querySelector("#closeBasket"),n=document.querySelector(".basket-container"),H=document.querySelector(".target-btn"),J=document.querySelector(".model-order-container"),x=document.querySelector("#quantity"),j=document.querySelector(".basket-wrap-price"),q=document.querySelector(".empty-basket"),a=[],m=[],y=[],p=[],M=()=>{const e=J.cloneNode(!0);if(n.appendChild(e),e.querySelector(".model-delete").style.display="block",s.style.opacity="0",m.splice(0),a.splice(0),y.splice(0),setTimeout(function(){s.style.display="none",document.body.style.overflow="auto"},500),p.length>0)p.push(e.outerHTML);else for(const t of n.children)p.push(t.outerHTML);localStorage.setItem("bascketChild",JSON.stringify(p)),a.push(n.querySelectorAll("#plusProduct")),m.push(n.querySelectorAll("#minusProduct")),y.push(n.querySelectorAll("#buttonOpenDelete")),x.textContent=n.children.length};H.addEventListener("click",M);const V=e=>{const t=e.currentTarget.parentElement.previousElementSibling.firstElementChild.lastElementChild,o=e.currentTarget.parentElement.previousElementSibling.lastElementChild.lastElementChild;if(t.textContent>0){const r=t.textContent=++t.textContent;console.log(r);const l=parseFloat(o.textContent.replace("$",""));r!==1?o.textContent="$"+(l/(r-1)*r).toFixed(2):o.textContent="$"+l/r}g()},z=e=>{const t=e.currentTarget.parentElement.previousElementSibling.firstElementChild.lastElementChild,o=e.currentTarget.parentElement.previousElementSibling.lastElementChild.lastElementChild;if(t.textContent>1){const r=t.textContent=--t.textContent,l=parseFloat(o.textContent.replace("$",""));o.textContent="$"+(l/(r+1)*r).toFixed(2)}g()},W=e=>{e.currentTarget.nextElementSibling.style.display="block";const t=e.currentTarget.parentNode.parentNode,o=e.currentTarget.nextElementSibling.firstElementChild,r=n.children,l=Object.fromEntries(Object.entries(r).reverse()),h=e.currentTarget.parentNode.parentNode,f=Object.keys(l);o.addEventListener("click",()=>{t.remove(),g(),v();const u=f.find(T=>l[T]===h),E=parseFloat(u);console.log(E);const b=JSON.parse(localStorage.getItem("bascketChild"));b.splice(E,1),localStorage.setItem("bascketChild",JSON.stringify(b)),console.log(b)});const d=e.currentTarget.firstElementChild,S=e.currentTarget,w=e.currentTarget.nextElementSibling;window.onclick=u=>{u.target!==d&&u.target!==S&&(w.style.display="none")}},K=e=>{if(i.style.display="block",document.body.style.overflow="hidden",setTimeout(function(){i.style.opacity="1"},50),a.length>0){for(const t of a[0])t.addEventListener("click",V);for(const t of m[0])t.addEventListener("click",z);for(const t of y[0])t.addEventListener("click",W)}g(),v()};$.addEventListener("click",K);const P=()=>{i.style.opacity="0",setTimeout(function(){i.style.display="none",document.body.style.overflow="auto"},500),x.textContent=n.children.length};window.onclick=e=>{e.target===i&&P()};D.addEventListener("click",P);const g=()=>{const e=n.querySelectorAll("#priceProduct");let t=0;for(const o of e)t+=parseFloat(o.textContent.replace("$",""));j.textContent="$"+t.toFixed(2)},v=()=>{n.children.length>0?q.style.display="none":q.style.display="block"},G=()=>{const e=JSON.parse(localStorage.getItem("bascketChild"));for(let t=0;t<e.length;t++){const o=e[t];n.insertAdjacentHTML("afterbegin",o)}a.push(n.querySelectorAll("#plusProduct")),m.push(n.querySelectorAll("#minusProduct")),y.push(n.querySelectorAll("#buttonOpenDelete")),x.textContent=n.children.length};G();//! --- збереження сердечка --- //
const Q=document.querySelectorAll(".dishes-list-heart-link"),c=[];console.log(c);const R=e=>{const t=e.currentTarget.querySelector(".dishes-list-icon");if(t.style.fill==="rgb(255, 255, 255)")t.style.fill="#6c5fbc",console.log(t.id),c.push(t.id),localStorage.setItem("heartIcon",JSON.stringify(c)),console.log(c);else{t.style.fill="rgb(255, 255, 255)";for(const o of c)o===t.id&&c.splice(c.indexOf(o),1);localStorage.setItem("heartIcon",JSON.stringify(c))}};for(const e of Q)e.addEventListener("click",R);const U=()=>{const e=JSON.parse(localStorage.getItem("heartIcon"));for(const t of e){c.push(t);const o=document.querySelector(`#${t}`);o.style.fill="#6c5fbc"}};U();const X=document.querySelectorAll(".dishes-wrap-text");for(const e of X)e.textContent==="Trending"?(e.style.background="#F7C5BA",e.style.color="#FB471D"):e.textContent==="Supreme"&&(e.style.background="#40e683",e.style.opacity="0.5",e.style.color="#198042");new Swiper(".swiper",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar",dragSize:135},slidesPerView:1,spaceBetween:30,breakpoints:{1024:{slidesPerView:"auto"},1440:{slidesPerView:"auto",spaceBetween:46}},on:{slideChange:function(){const e=this.slides[this.activeIndex];this.slides.forEach(o=>{o===e?o.classList.add("active-slide"):o.classList.remove("active-slide")})}}});
//# sourceMappingURL=main-857302a9.js.map
