const s=document.querySelector(".backrop"),B=document.querySelector("#closeBackrop"),L=document.querySelectorAll("#openBackrop"),w=document.querySelector("#product"),k=document.querySelector("#numberProduct"),C=document.querySelector("#priceProduct"),A=document.querySelector("#imgProduct"),F=document.querySelector("#plusProduct"),N=document.querySelector("#minusProduct"),I=e=>{let t=1;const o=e.currentTarget.parentElement.parentElement.firstElementChild.lastElementChild.src,r=e.currentTarget.previousSibling.previousSibling,c=e.currentTarget.parentNode.previousSibling.previousElementSibling.querySelector(".dishes-wrap-title");A.lastElementChild.src=o,w.textContent=c.textContent,k.textContent=1,C.textContent=r.textContent,s.style.display="block",document.body.style.overflow="hidden",setTimeout(function(){s.style.opacity="1"},50);const f=()=>{t<=0&&(t=1),k.textContent=++t,C.textContent="$"+(parseFloat(r.textContent.replace("$",""))*t).toFixed(2)};F.addEventListener("click",f);const h=()=>{--t,t>0&&(k.textContent=t,C.textContent="$"+(parseFloat(r.textContent.replace("$",""))*t).toFixed(2))};N.addEventListener("click",h);const d=()=>{t=1,s.style.opacity="0",setTimeout(function(){s.style.display="none",document.body.style.overflow="auto"},500)};B.addEventListener("click",d),window.onclick=S=>{S.target==s&&d()}};for(const e of L)e.addEventListener("click",I);//!-----------------------Модалка для кошика-----------------------//
const i=document.querySelector(".basket-modal"),$=document.querySelector("#openBasket"),D=document.querySelector("#closeBasket"),n=document.querySelector(".basket-container"),H=document.querySelector(".target-btn"),J=document.querySelector(".model-order-container"),x=document.querySelector("#quantity"),j=document.querySelector(".basket-wrap-price"),q=document.querySelector(".empty-basket"),a=[],m=[],y=[],p=[],M=()=>{const e=J.cloneNode(!0);if(n.appendChild(e),e.querySelector(".model-delete").style.display="block",s.style.opacity="0",m.splice(0),a.splice(0),y.splice(0),setTimeout(function(){s.style.display="none",document.body.style.overflow="auto"},500),p.length>0)p.push(e.outerHTML);else for(const t of n.children)p.push(t.outerHTML);localStorage.setItem("bascketChild",JSON.stringify(p)),a.push(n.querySelectorAll("#plusProduct")),m.push(n.querySelectorAll("#minusProduct")),y.push(n.querySelectorAll("#buttonOpenDelete")),x.textContent=n.children.length};H.addEventListener("click",M);const W=e=>{const t=e.currentTarget.parentElement.previousElementSibling.firstElementChild.lastElementChild,o=e.currentTarget.parentElement.previousElementSibling.lastElementChild.lastElementChild;if(t.textContent>0){const r=t.textContent=++t.textContent;console.log(r);const c=parseFloat(o.textContent.replace("$",""));r!==1?o.textContent="$"+(c/(r-1)*r).toFixed(2):o.textContent="$"+c/r}g()},K=e=>{const t=e.currentTarget.parentElement.previousElementSibling.firstElementChild.lastElementChild,o=e.currentTarget.parentElement.previousElementSibling.lastElementChild.lastElementChild;if(t.textContent>1){const r=t.textContent=--t.textContent,c=parseFloat(o.textContent.replace("$",""));o.textContent="$"+(c/(r+1)*r).toFixed(2)}g()},V=e=>{e.currentTarget.nextElementSibling.style.display="block";const t=e.currentTarget.parentNode.parentNode,o=e.currentTarget.nextElementSibling.firstElementChild,r=n.children,c=Object.fromEntries(Object.entries(r).reverse()),f=e.currentTarget.parentNode.parentNode,h=Object.keys(c);o.addEventListener("click",()=>{t.remove(),g(),T();const u=h.find(O=>c[O]===f),E=parseFloat(u);console.log(E);const b=JSON.parse(localStorage.getItem("bascketChild"));b.splice(E,1),localStorage.setItem("bascketChild",JSON.stringify(b)),console.log(b)});const d=e.currentTarget.firstElementChild,S=e.currentTarget,v=e.currentTarget.nextElementSibling;window.onclick=u=>{u.target!==d&&u.target!==S&&(v.style.display="none")}},z=e=>{if(i.style.display="block",document.body.style.overflow="hidden",setTimeout(function(){i.style.opacity="1"},50),a.length>0){for(const t of a[0])t.addEventListener("click",W);for(const t of m[0])t.addEventListener("click",K);for(const t of y[0])t.addEventListener("click",V)}g(),T()};$.addEventListener("click",z);const P=()=>{i.style.opacity="0",setTimeout(function(){i.style.display="none",document.body.style.overflow="auto"},500),x.textContent=n.children.length};window.onclick=e=>{e.target===i&&P()};D.addEventListener("click",P);const g=()=>{const e=n.querySelectorAll("#priceProduct");let t=0;for(const o of e)t+=parseFloat(o.textContent.replace("$",""));j.textContent="$"+t.toFixed(2)},T=()=>{n.children.length>0?q.style.display="none":q.style.display="block"},G=()=>{const e=JSON.parse(localStorage.getItem("bascketChild"));for(let t=0;t<e.length;t++){const o=e[t];n.insertAdjacentHTML("afterbegin",o)}a.push(n.querySelectorAll("#plusProduct")),m.push(n.querySelectorAll("#minusProduct")),y.push(n.querySelectorAll("#buttonOpenDelete")),x.textContent=n.children.length};G();//! --- збереження сердечка --- //
const Q=document.querySelectorAll(".dishes-list-heart-link"),l=[];console.log(l);const R=e=>{const t=e.currentTarget.querySelector(".dishes-list-icon");if(t.style.fill==="rgb(255, 255, 255)")t.style.fill="#6c5fbc",console.log(t.id),l.push(t.id),localStorage.setItem("heartIcon",JSON.stringify(l)),console.log(l);else{t.style.fill="rgb(255, 255, 255)";for(const o of l)o===t.id&&l.splice(l.indexOf(o),1);localStorage.setItem("heartIcon",JSON.stringify(l))}};for(const e of Q)e.addEventListener("click",R);const U=()=>{const e=JSON.parse(localStorage.getItem("heartIcon"));for(const t of e){l.push(t);const o=document.querySelector(`#${t}`);o&&(o.style.fill="#6c5fbc")}};U();const X=document.querySelectorAll(".dishes-wrap-text");for(const e of X)e.textContent==="Trending"?(e.style.background="#F7C5BA",e.style.color="#FB471D"):e.textContent==="Supreme"&&(e.style.background="#40e683",e.style.opacity="0.5",e.style.color="#198042");
//# sourceMappingURL=model-order-a33e7874.js.map
