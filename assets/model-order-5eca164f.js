const s=document.querySelector(".backrop"),B=document.querySelector("#closeBackrop"),L=document.querySelectorAll("#openBackrop"),w=document.querySelector("#product"),b=document.querySelector("#numberProduct"),k=document.querySelector("#priceProduct"),A=document.querySelector("#imgProduct"),F=document.querySelector("#plusProduct"),N=document.querySelector("#minusProduct"),I=e=>{let t=1;const n=e.currentTarget.parentElement.parentElement.firstElementChild.lastElementChild.src,r=e.currentTarget.previousSibling.previousSibling,c=e.currentTarget.parentNode.previousSibling.previousElementSibling.querySelector(".dishes-wrap-title");A.lastElementChild.src=n,w.textContent=c.textContent,b.textContent=1,k.textContent=r.textContent,s.style.display="block",document.body.style.overflow="hidden",setTimeout(function(){s.style.opacity="1"},50);const g=()=>{t<=0&&(t=1),b.textContent=++t,k.textContent="$"+(parseFloat(r.textContent.replace("$",""))*t).toFixed(2)};F.addEventListener("click",g);const h=()=>{--t,t>0&&(b.textContent=t,k.textContent="$"+(parseFloat(r.textContent.replace("$",""))*t).toFixed(2))};N.addEventListener("click",h);const d=()=>{t=1,s.style.opacity="0",setTimeout(function(){s.style.display="none",document.body.style.overflow="auto"},500)};B.addEventListener("click",d),window.onclick=S=>{S.target==s&&d()}};for(const e of L)e.addEventListener("click",I);//!-----------------------Модалка для кошика-----------------------//
const i=document.querySelector(".basket-modal"),$=document.querySelector("#openBasket"),D=document.querySelector("#closeBasket"),o=document.querySelector(".basket-container"),H=document.querySelector(".target-btn"),J=document.querySelector(".model-order-container"),C=document.querySelector("#quantity"),j=document.querySelector(".basket-wrap-price"),E=document.querySelector(".empty-basket"),a=[],m=[],y=[],p=[],M=()=>{const e=J.cloneNode(!0);if(o.appendChild(e),e.querySelector(".model-delete").style.display="block",s.style.opacity="0",m.splice(0),a.splice(0),y.splice(0),setTimeout(function(){s.style.display="none",document.body.style.overflow="auto"},500),p.length>0)p.push(e.outerHTML);else for(const t of o.children)p.push(t.outerHTML);localStorage.setItem("bascketChild",JSON.stringify(p)),a.push(o.querySelectorAll("#plusProduct")),m.push(o.querySelectorAll("#minusProduct")),y.push(o.querySelectorAll("#buttonOpenDelete")),C.textContent=o.children.length};H.addEventListener("click",M);const W=e=>{const t=e.currentTarget.parentElement.previousElementSibling.firstElementChild.lastElementChild,n=e.currentTarget.parentElement.previousElementSibling.lastElementChild.lastElementChild;if(t.textContent>0){const r=t.textContent=++t.textContent,c=parseFloat(n.textContent.replace("$",""));r!==1?n.textContent="$"+(c/(r-1)*r).toFixed(2):n.textContent="$"+c/r}f()},K=e=>{const t=e.currentTarget.parentElement.previousElementSibling.firstElementChild.lastElementChild,n=e.currentTarget.parentElement.previousElementSibling.lastElementChild.lastElementChild;if(t.textContent>1){const r=t.textContent=--t.textContent,c=parseFloat(n.textContent.replace("$",""));n.textContent="$"+(c/(r+1)*r).toFixed(2)}f()},V=e=>{e.currentTarget.nextElementSibling.style.display="block";const t=e.currentTarget.parentNode.parentNode,n=e.currentTarget.nextElementSibling.firstElementChild,r=o.children,c=Object.fromEntries(Object.entries(r).reverse()),g=e.currentTarget.parentNode.parentNode,h=Object.keys(c);n.addEventListener("click",()=>{t.remove(),f(),P();const u=h.find(O=>c[O]===g),v=parseFloat(u),x=JSON.parse(localStorage.getItem("bascketChild"));x.splice(v,1),localStorage.setItem("bascketChild",JSON.stringify(x))});const d=e.currentTarget.firstElementChild,S=e.currentTarget,T=e.currentTarget.nextElementSibling;window.onclick=u=>{u.target!==d&&u.target!==S&&(T.style.display="none")}},z=e=>{if(i.style.display="block",document.body.style.overflow="hidden",setTimeout(function(){i.style.opacity="1"},50),a.length>0){for(const t of a[0])t.addEventListener("click",W);for(const t of m[0])t.addEventListener("click",K);for(const t of y[0])t.addEventListener("click",V)}f(),P()};$.addEventListener("click",z);const q=()=>{i.style.opacity="0",setTimeout(function(){i.style.display="none",document.body.style.overflow="auto"},500),C.textContent=o.children.length};window.onclick=e=>{e.target===i&&q()};D.addEventListener("click",q);const f=()=>{const e=o.querySelectorAll("#priceProduct");let t=0;for(const n of e)t+=parseFloat(n.textContent.replace("$",""));j.textContent="$"+t.toFixed(2)},P=()=>{o.children.length>0?E.style.display="none":E.style.display="block"},G=()=>{const e=JSON.parse(localStorage.getItem("bascketChild"));if(e.length!==0){for(let t=0;t<e.length;t++){const n=e[t];o.insertAdjacentHTML("afterbegin",n)}a.push(o.querySelectorAll("#plusProduct")),m.push(o.querySelectorAll("#minusProduct")),y.push(o.querySelectorAll("#buttonOpenDelete")),C.textContent=o.children.length}};G();//! --- збереження сердечка --- //
const Q=document.querySelectorAll(".dishes-list-heart-link"),l=[],R=e=>{const t=e.currentTarget.querySelector(".dishes-list-icon");if(t.style.fill==="rgb(255, 255, 255)")t.style.fill="#6c5fbc",l.push(t.id),localStorage.setItem("heartIcon",JSON.stringify(l));else{t.style.fill="rgb(255, 255, 255)";for(const n of l)n===t.id&&l.splice(l.indexOf(n),1);localStorage.setItem("heartIcon",JSON.stringify(l))}};for(const e of Q)e.addEventListener("click",R);const U=()=>{const e=JSON.parse(localStorage.getItem("heartIcon"));if(e.length!==0)for(const t of e){l.push(t);const n=document.querySelector(`#${t}`);n&&(n.style.fill="#6c5fbc")}};U();const X=document.querySelectorAll(".dishes-wrap-text");for(const e of X)e.textContent==="Trending"?(e.style.background="#F7C5BA",e.style.color="#FB471D"):e.textContent==="Supreme"&&(e.style.background="#40e683",e.style.opacity="0.5",e.style.color="#198042");
//# sourceMappingURL=model-order-5eca164f.js.map
