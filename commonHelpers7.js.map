{"version":3,"file":"commonHelpers7.js","sources":["../src/js/search-filter.js"],"sourcesContent":["// --- вся інформація про продукти --- //\nconst prodoctsInfoAll = {\n  dishes: [],\n  pizza: [],\n  donat: [],\n};\n\nconst elDishes = document.querySelector('.js-dishes');\nconst elPizza = document.querySelector('.js-pizza');\nconst elDonat = document.querySelector('.js-donat');\n\nconst dishesGroupColention = elDishes.nextElementSibling.children;\nconst pizzaGroupColention = elPizza.nextElementSibling.children;\nconst donatGroupColention = elDonat.nextElementSibling.children;\n\nconst addToGroup = (groupColention, group) => {\n  for (const element of groupColention) {\n    const elName = element.querySelector('.dishes-wrap-title').textContent;\n    const elPrice = parseFloat(\n      element\n        .querySelector('.dishes-container-text')\n        .textContent.replace('$', '')\n    );\n\n    const obj = {};\n\n    obj.elementReference = element.outerHTML;\n    obj.name = elName;\n    obj.price = elPrice;\n\n    if (element.querySelector('.dishes-wrap-text').textContent === 'Healthy') {\n      obj.popular = false;\n      obj.recomended = true;\n    } else if (\n      element.querySelector('.dishes-wrap-text').textContent === 'Trending'\n    ) {\n      obj.popular = true;\n      obj.recomended = false;\n    } else {\n      obj.popular = false;\n      obj.recomended = false;\n    }\n\n    prodoctsInfoAll[group].push(obj);\n  }\n};\n\naddToGroup(dishesGroupColention, 'dishes');\naddToGroup(pizzaGroupColention, 'pizza');\naddToGroup(donatGroupColention, 'donat');\n\n// ----- search ---- //\n\nconst elRadioSortGroup = document.getElementsByName('sort-group');\nconst elRadioSort = document.getElementsByName('sort');\n\nlet idRadioSortGroup = 'pizza';\nlet idRadioSort = 'recomended';\n\nfor (const element of elRadioSortGroup) {\n  element.addEventListener('input', event => {\n    idRadioSortGroup = event.target.id;\n  });\n}\n\nfor (const element of elRadioSort) {\n  element.addEventListener('input', event => {\n    idRadioSort = event.target.id;\n  });\n}\n\n// --- вибір ціни --- //\n\nconst elPriceSliderInput = document.querySelector('.price-slider-input');\nconst elPriceSliderOutput = document.querySelector('.price-slider-output');\n\nlet price = 0;\n\nconst outputUpdate = event => {\n  elPriceSliderOutput.textContent = event.target.value;\n  if (parseFloat(event.target.value) > 50) {\n    price = parseFloat(event.target.value);\n    elPriceSliderOutput.style.left =\n      2.088 * (-15 + parseFloat(event.target.value)) + 'px';\n  } else {\n    elPriceSliderOutput.style.left =\n      2.088 * (-10 + parseFloat(event.target.value)) + 'px';\n    price = parseFloat(event.target.value);\n  }\n};\n\nelPriceSliderInput.addEventListener('input', outputUpdate);\n\n// ----- вибрати, пошук ---- //\n\nconst elApllyBtn = document.querySelector('.search-aplly-btn');\n\nclass ToSort {\n  constructor(arrayProducts) {\n    this.arrayProducts = arrayProducts;\n  }\n\n  getResultSearch() {\n    const result = [];\n    for (const object of this.arrayProducts) {\n      result.push(object.elementReference);\n    }\n\n    localStorage.setItem('numberResultSearch', `${result.length}`);\n    localStorage.setItem('resultSearch', result.join('')); //збереження результату пошуку\n\n    window.location.href = './result-search.html';\n  }\n\n  popularSort() {\n    this.arrayProducts.sort((a, b) => {\n      if (a.popular) {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n    this.getResultSearch();\n  }\n\n  recomendedSort() {\n    this.arrayProducts.sort(a => {\n      if (a.recomended) {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n    this.getResultSearch();\n  }\n\n  lowestPriceSort() {\n    this.arrayProducts.sort((a, b) => {\n      return a.price - b.price;\n    });\n    this.getResultSearch();\n  }\n\n  highestPriceSort() {\n    this.arrayProducts.sort((a, b) => {\n      return b.price - a.price;\n    });\n    this.getResultSearch();\n  }\n}\n\nconst applyFn = () => {\n  if (price === 0) {\n    elPriceSliderOutput.style.color = '#F7433D';\n    elPriceSliderOutput.style.textShadow = '0 0 5px #F8564F';\n\n    setTimeout(function () {\n      elPriceSliderOutput.style.color = '#fff';\n      elPriceSliderOutput.style.textShadow = '';\n    }, 2000);\n  } else {\n    const resultSearchPrice = prodoctsInfoAll[idRadioSortGroup]\n      .map(element => {\n        return element.price <= price ? element : undefined;\n      })\n      .filter(element => element !== undefined);\n\n    const toSort = new ToSort(resultSearchPrice);\n\n    if (idRadioSort === 'popular') {\n      toSort.popularSort();\n    } else if (idRadioSort === 'recomended') {\n      toSort.recomendedSort();\n    } else if (idRadioSort === 'lowest-price') {\n      toSort.lowestPriceSort();\n    } else if (idRadioSort === 'highest-price') {\n      toSort.highestPriceSort();\n    }\n  }\n};\n\nelApllyBtn.addEventListener('click', applyFn);\n"],"names":["prodoctsInfoAll","elDishes","elPizza","elDonat","dishesGroupColention","pizzaGroupColention","donatGroupColention","addToGroup","groupColention","group","element","elName","elPrice","obj","elRadioSortGroup","elRadioSort","idRadioSortGroup","idRadioSort","event","elPriceSliderInput","elPriceSliderOutput","price","outputUpdate","elApllyBtn","ToSort","arrayProducts","result","object","a","b","applyFn","resultSearchPrice","toSort"],"mappings":"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"}