{"version":3,"file":"commonHelpers2.js","sources":["../src/js/render-markup.js","../src/js/latest-articles.js"],"sourcesContent":["'use strict';\n\nexport const latestArticlesItems = dataArray => {\n  const markup = dataArray.map(({ author, images, publishedAt, title }) => {\n    return `<li class=\"latest-articles-item\">\n        <picture>\n          <source\n            srcset=\"\n              ${images.desktop['1x']} 1x,\n              ${images.desktop['2x']} 2x\n            \"\n            media=\"(min-width: 1440px)\"\n          />\n          <source\n            srcset=\"\n              ${images.tablet['1x']} 1x,\n              ${images.tablet['2x']} 2x\n            \"\n            media=\"(min-width: 1024px)\"\n          />\n          <source\n            srcset=\"\n              ${images.mobil['1x']} 1x,\n              ${images.mobil['2x']} 2x\n            \"\n            media=\"(max-width: 1023px)\"\n          />\n          <img\n            class=\"latest-articles-img\"\n            src=\"${images.desktop['1x']}\" \n            alt=\"latest articles img\"\n          />\n        </picture>\n        <h3 class=\"latest-articles-questions\">${title}</h3>\n        <div class=\"latest-articles-wrap\">\n          <img\n            srcset=\"\n              ${images.avatar['1x']} 1x,\n              ${images.avatar['2x']} 2x\n            \"\n            alt=\"user\"\n            width=\"30px\"\n            height=\"30px\"\n          />\n          <div>\n            <p class=\"latest-articles-written\">Written By</p>\n            <p class=\"latest-articles-autor\">${author}</p>\n          </div>\n          <p class=\"latest-articles-date\">${publishedAt}</p>\n        </div>\n      </li>`;\n  });\n  return markup.join('');\n};\n","'use strict';\n\nimport { latestArticlesItems } from './render-markup.js';\nimport { elScrollBtn } from './scroll-up.js';\nimport { receivingDataArticles } from './mockapi.js';\n\nconst elLatestArticlesList = document.querySelector('.latest-articles-list-js');\nconst elLatestArticlesBtn = document.querySelector('.latest-articles-more-js');\nconst elLatestBackdrop = document.querySelector('.latest-articles-backdrop-js');\nconst elLatestAnswer = document.querySelector('.latest-articles-answer-js');\nconst elLatestQuestions = document.querySelector('.latest-articles-questions');\nconst elLatestAnswerDate = document.querySelector('.latest-articles-date');\nconst elLatestAnswerBtn = document.querySelector('.latest-answer-btn-js');\n\nlet page = 1;\nlet limit = 3;\nlet totalPage = 3;\nconst dateArray = [];\n\nreceivingDataArticles(page, limit)\n  .then(data => {\n    dateArray.push(...data);\n    elLatestArticlesList.innerHTML = latestArticlesItems(data);\n  })\n  .catch(error => console.log(error));\n\nelLatestArticlesBtn.addEventListener('click', () => {\n  elLatestArticlesBtn.classList.add('load');\n  elLatestArticlesBtn.disabled = true;\n\n  receivingDataArticles(++page, limit)\n    .then(data => {\n      elLatestArticlesBtn.classList.remove('load');\n      elLatestArticlesBtn.disabled = false;\n      elLatestArticlesList.insertAdjacentHTML(\n        'beforeend',\n        latestArticlesItems(data)\n      );\n\n      dateArray.push(...data);\n      window.scrollBy({\n        top: 400,\n        behavior: 'smooth',\n      });\n\n      if (totalPage === page) {\n        elLatestArticlesBtn.style.display = 'none';\n      }\n    })\n    .catch(error => console.log(error));\n});\n\nelLatestArticlesList.addEventListener('click', e => {\n  if (e.currentTarget === e.target) return;\n\n  const elItem = e.target.closest('.latest-articles-item');\n  const quest = elItem.querySelector('.latest-articles-questions').textContent;\n  const { answer } = dateArray.filter(({ title }) => title === quest)[0];\n\n  elLatestQuestions.textContent = quest;\n  elLatestAnswerDate.textContent = answer;\n  openAnswer();\n});\n\nelLatestAnswerBtn.addEventListener('click', closeAnswer);\nelLatestBackdrop.addEventListener('click', closeAnswer);\ndocument.addEventListener('keydown', event => {\n  if (event.key === 'Escape') closeAnswer();\n});\n\nfunction openAnswer() {\n  elScrollBtn.classList.remove('is-active-scroll');\n  elLatestBackdrop.style.display = 'block';\n  elLatestAnswer.style.display = 'flex';\n  document.body.style.overflow = 'hidden';\n\n  setTimeout(() => {\n    elLatestBackdrop.classList.add('latest-backdrop-active');\n    elLatestAnswer.classList.add('latest-answer-active');\n  });\n}\n\nfunction closeAnswer() {\n  elLatestBackdrop.classList.remove('latest-backdrop-active');\n  elLatestAnswer.classList.remove('latest-answer-active');\n\n  setTimeout(() => {\n    elLatestBackdrop.style.display = 'none';\n    elLatestAnswer.style.display = 'none';\n    document.body.style.overflow = 'auto';\n  }, 300);\n}\n"],"names":["latestArticlesItems","dataArray","author","images","publishedAt","title","elLatestArticlesList","elLatestArticlesBtn","elLatestBackdrop","elLatestAnswer","elLatestQuestions","elLatestAnswerDate","elLatestAnswerBtn","page","limit","totalPage","dateArray","receivingDataArticles","data","error","e","quest","answer","openAnswer","closeAnswer","event","elScrollBtn"],"mappings":"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"}